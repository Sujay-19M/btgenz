<!DOCTYPE html>
<html lang="en">
<head>
    <title>Manage Comments</title>
</head>
<body>
    <h2>Pending Comments</h2>
    <form id="commentsForm">
        <div id="pendingComments"></div>
        <button type="submit">Submit</button>
    </form>

    <script>
        const WORKER_URL = "https://comment.sujay-m-1194.workers.dev";

        async function loadPendingComments() {
            const response = await fetch(WORKER_URL + "/pending");
            const comments = await response.json();
            const container = document.getElementById("pendingComments");
            container.innerHTML = "";

            comments.forEach((comment, index) => {
                const div = document.createElement("div");
                div.innerHTML = `
                    <input type="checkbox" id="approve-${index}" name="approve" value="${comment.email}|${comment.timestamp}">
                    <label for="approve-${index}"><strong>${comment.name}</strong>: ${comment.comment}</label><br>
                    <input type="text" placeholder="Reply (optional)" id="reply-${index}" name="reply"><br>
                    <hr>
                `;
                container.appendChild(div);
            });
        }

        loadPendingComments();
    </script>
</body>
</html>
